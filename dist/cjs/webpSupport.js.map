{"version":3,"file":"webpSupport.js","names":["isWebpSupported","exports","Promise","resolve","img","Image","onload","width","height","onerror","src","isWebpConversionSupported","canvas","document","createElement","toDataURL","match"],"sources":["../../src/webpSupport.ts"],"sourcesContent":["/**\n * Determines if webp is supported by the browser\n * @returns a promise resolving to a boolean to know if webp is supported\n */\nexport const isWebpSupported = (): Promise<Boolean> => {\n  return new Promise<Boolean>((resolve) => {\n    const img = new Image();\n    img.onload = () => resolve(img.width === 2 && img.height === 1);\n    img.onerror = () => resolve(false);\n    img.src = \"data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA==\";\n  });\n}\n\n  /**\n   * Determines if webp conversion with canvas is supported by the browser\n   * @returns a boolean to know if webp conversion is supported\n   */\n  export const isWebpConversionSupported = (): Boolean => {\n    const canvas = document.createElement('canvas');\n    canvas.width = 1;\n    canvas.height = 1;\n    return canvas.toDataURL('image/webp').match('image/webp') !== null;\n  }"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACO,IAAMA,eAAe,GAAAC,OAAA,CAAAD,eAAA,GAAG,SAAlBA,eAAeA,CAAA,EAA2B;EACrD,OAAO,IAAIE,OAAO,CAAU,UAACC,OAAO,EAAK;IACvC,IAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,MAAM,GAAG;MAAA,OAAMH,OAAO,CAACC,GAAG,CAACG,KAAK,KAAK,CAAC,IAAIH,GAAG,CAACI,MAAM,KAAK,CAAC,CAAC;IAAA;IAC/DJ,GAAG,CAACK,OAAO,GAAG;MAAA,OAAMN,OAAO,CAAC,KAAK,CAAC;IAAA;IAClCC,GAAG,CAACM,GAAG,GAAG,yGAAyG;EACrH,CAAC,CAAC;AACJ,CAAC;;AAEC;AACF;AACA;AACA;AACS,IAAMC,yBAAyB,GAAAV,OAAA,CAAAU,yBAAA,GAAG,SAA5BA,yBAAyBA,CAAA,EAAkB;EACtD,IAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;EAC/CF,MAAM,CAACL,KAAK,GAAG,CAAC;EAChBK,MAAM,CAACJ,MAAM,GAAG,CAAC;EACjB,OAAOI,MAAM,CAACG,SAAS,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC,YAAY,CAAC,KAAK,IAAI;AACpE,CAAC","ignoreList":[]}